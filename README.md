# Тестовое задание для компании ИОТ

## Задание:
Разработать **Fabric** мод под **Minecraft версии 1.21.8**, используя API последней версии.
В качестве системы сборки использовать **Gradle 8.14**.

- [x] Простой Screen с полем ввода текстового сообщения и кнопкой отправки;
- [x] По нажатии на кнопку клиентом необходимо отправлять закодированное в **Protobuf 3** сообщение:
   ```protobuf
   syntax = "proto3";

   package proto;
   
   message Message {
     string text = 1;
   }
   ```
- [x] На сервере декодировать данное сообщение и записывать его содержимое в таблицу **Postgres** следующего вида:
    ```sql
    CREATE TABLE messages (
    "id"        SERIAL PRIMARY KEY,   -- уникальный ID записи
    "uuid"      UUID NOT NULL,        -- уникальный ID игрока, отправившего сообщение
    "text"      VARCHAR(256) NOT NULL -- содержимое Protobuf сообщения
    );
    ```
  
## Используемые технологии:

- Kotlin в качестве языка программирования
- Fabric в качестве modloader'а и в качестве API
- Gradle (правда версии 9.10, а не 8.14) в качестве системы сборки
- Официальные библиотека и Gradle-плагин для Protobuf 3
- Postgresql 16 в качестве базы данных
- Hibernate 6 в качестве API доступа к базе данных
- Docker + Docker Compose для развёртывания окружения

## Возможности по улучшению текущей реализации:

- [x] "Прибраться" в проекте;
- [ ] Добавить систему миграций для базы данных;
- [ ] Создать альтернативный текущему интерфейс - CLI внутри игры;
- [ ] Провести рефакторинг, максимально отвязать любые конфигурируемые данные от кода (вынести в конфигурации);
- [x] Добавить init-скрипты для Postgresql-сервиса в [docker-compose.yaml](./docker-compose.yaml);
- [x] Добавить Healthcheck для Postgresql-сервиса в [docker-compose.yaml](./docker-compose.yaml);
- [x] Перевести версию Gradle с 9.10 на 8.14 (при необходимости);
- [ ] Подумать над валидацией отправляемых сообщений:
  - [ ] Проверять длину на клиенте перед отправкой (в базу можно записать 255 символов);
  - [ ] Проверять на пустоту перед отправкой;
- [ ] Подумать над системой алёртов на клиенте (например, через Toast'ы).